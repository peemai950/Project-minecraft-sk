options:
    prefix: &8[&cWanted&8] &7
    currency_item: gold ingot
    currency_name: ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥
    start_bounty: 10
    add_bounty: 5
    expire_time: 10 minutes

# ==========================================
# 1. ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå
# ==========================================
every 1 second:
    loop all players:
        if {bounty::%uuid of loop-player%} is set:
            show 5 flame at loop-player
            show 1 angry villager at block above loop-player
            send action bar "&c‚ò† ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß! ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏ï‡∏±‡∏ß! (&6%{bounty::%uuid of loop-player%}% {@currency_name}&c) ‚ò†" to loop-player

# ==========================================
# 2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏Ü‡πà‡∏≤ (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠ + ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏°‡∏∏‡∏î‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)
# ==========================================
on death of player:
    if attacker is a player:
        
        # --- ‡∏Å‡∏£‡∏ì‡∏µ: ‡∏ï‡∏≥‡∏£‡∏ß‡∏à‡∏Ü‡πà‡∏≤‡πÇ‡∏à‡∏£ (‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏∏‡∏î‡∏õ‡∏¥‡∏î‡∏Ñ‡∏î‡∏µ) ---
        if {bounty::%uuid of victim%} is set:
            if {bounty::%uuid of victim%} > 0:
                set {_reward} to {bounty::%uuid of victim%}
                
                # [‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏°‡∏∏‡∏î]
                set {_book} to written book named "&6üìú ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏¥‡∏î‡∏Ñ‡∏î‡∏µ‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°"
                set author of {_book} to "‡∏Å‡∏£‡∏°‡∏ï‡∏≥‡∏£‡∏ß‡∏à"
                
                # --- [‡∏´‡∏ô‡πâ‡∏≤ 1] ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ ---
                set {_page1} to "&8&m===================&r%nl%&c&l   ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£%nl%&8&m===================&r%nl%%nl%"
                set {_page1} to "%{_page1}%&2‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£ (‡∏ú‡∏π‡πâ‡∏ï‡∏≤‡∏¢):%nl%&c%victim%%nl%%nl%"
                set {_page1} to "%{_page1}%&2‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß‡∏™‡∏∞‡∏™‡∏°:%nl%&6%{_reward}% {@currency_name}%nl%%nl%"
                set {_page1} to "%{_page1}%&2‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏±‡∏ì‡∏ë‡πå (‡∏Ñ‡∏ô‡∏Ü‡πà‡∏≤):%nl%&1&l%attacker%%nl%%nl%"
                set {_page1} to "%{_page1}%&8(‡∏û‡∏•‡∏¥‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠)"
                
                set page 1 of {_book} to {_page1}
                
                # --- [‡∏´‡∏ô‡πâ‡∏≤ 2] ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ---
                set {_page2} to "&0&l‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡πâ‡∏≤‡∏¢:%nl%&8(‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å %victim% ‡∏Ü‡πà‡∏≤)%nl%&8&m-------------------&r%nl%"
                
                # ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠‡∏°‡∏≤‡πÉ‡∏™‡πà
                loop {bounty.victims::%uuid of victim%::*}:
                    set {_page2} to "%{_page2}%&7- &4%loop-value%%nl%"
                
                if {bounty.victims::%uuid of victim%::*} is not set:
                    set {_page2} to "%{_page2}%&7(‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ü‡πà‡∏≤)"
                    
                set page 2 of {_book} to {_page2}
                
                # ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Lore
                set lore of {_book} to "&7‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£: &c%victim%" and "&7‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß: &6%{_reward}% {@currency_name}" and "&e(‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥)"
                
                # ‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
                if attacker has enough space for {_book}:
                    give {_book} to attacker
                else:
                    drop {_book} at location of victim
                
                broadcast ""
                broadcast "{@prefix}&e%attacker% &7‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£ &c%victim% &7‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏¥‡∏î‡∏Ñ‡∏î‡∏µ!"
                broadcast ""
                
                # ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                delete {bounty::%uuid of victim%}
                delete {bounty.victims::%uuid of victim%::*} 
                delete {wanted.timer::%uuid of victim%}
                set tab list name of victim to "%victim%"
                stop

        # --- ‡∏Å‡∏£‡∏ì‡∏µ: ‡∏Ü‡∏≤‡∏ï‡∏Å‡∏£‡∏£‡∏° (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠) ---
        else:
            if {bounty::%uuid of attacker%} is not set:
                set {bounty::%uuid of attacker%} to {@start_bounty}
            else:
                add {@add_bounty} to {bounty::%uuid of attacker%}
            
            # ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÇ‡∏à‡∏£
            add uuid of victim to {bounty.victims::%uuid of attacker%::*}
            
            set {wanted.timer::%uuid of attacker%} to now
            set tab list name of attacker to "&c[‚ò†] %attacker%"
            
            send "{@prefix}&c‡∏Ñ‡∏∏‡∏ì‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£ &e%victim%&c! ‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô &6%{bounty::%uuid of attacker%}% {@currency_name}" to attacker
            play sound "entity.wither.spawn" at attacker

# ==========================================
# 3. ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏ß‡∏•‡∏≤
# ==========================================
every 1 minute:
    loop all players:
        if {bounty::%uuid of loop-player%} is set:
            set {_diff} to difference between {wanted.timer::%uuid of loop-player%} and now
            if {_diff} >= {@expire_time}:
                send "{@prefix}&a‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß" to loop-player
                delete {bounty::%uuid of loop-player%}
                delete {bounty.victims::%uuid of loop-player%}
                delete {wanted.timer::%uuid of loop-player%}
                set tab list name of loop-player to "%loop-player%"

# ==========================================
# 4. ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏ä‡πá‡∏Ñ/‡∏à‡πà‡∏≤‡∏¢
# ==========================================
command /bounty [<player>]:
    trigger:
        if arg-1 is not set:
            if {bounty::%uuid of player%} is set:
                send "" to player
                send "{@prefix}&c‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß: &6%{bounty::%uuid of player%}% {@currency_name}" to player
                send "&7(‡∏Ñ‡∏∏‡∏ì‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß &f%size of {bounty.victims::%uuid of player%::*}% &7‡∏®‡∏û)" to player
            else:
                send "{@prefix}&a‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå" to player
        else:
            if {bounty::%uuid of arg-1%} is set:
                send "" to player
                send "&8&m---------------------------" to player
                send "{@prefix}&c‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£: &e%arg-1%" to player
                send "&f‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: &6%{bounty::%uuid of arg-1%}% {@currency_name}" to player
                send "&f‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠: &c%size of {bounty.victims::%uuid of arg-1%::*}% &f‡∏Ñ‡∏ô" to player
                send "&8&m---------------------------" to player
            else:
                send "{@prefix}&a%arg-1% &7‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß" to player

command /paybounty:
    trigger:
        if {bounty::%uuid of player%} is not set:
            send "{@prefix}‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß!"
            stop
        set {_cost} to {bounty::%uuid of player%}
        if player has {_cost} of {@currency_item}:
            remove {_cost} of {@currency_item} from player's inventory
            
            delete {bounty::%uuid of player%}
            delete {bounty.victims::%uuid of player%::*}
            delete {wanted.timer::%uuid of player%}
            set tab list name of player to "%player%"
            
            broadcast "{@prefix}&e%player% &7‡∏à‡πà‡∏≤‡∏¢ &6%{_cost}% {@currency_name} &7‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß‡πÅ‡∏•‡πâ‡∏ß"
        else:
            send "{@prefix}&c‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ {@currency_name} ‡πÑ‡∏°‡πà‡∏û‡∏≠! ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ &6%{_cost}% ‡∏Å‡πâ‡∏≠‡∏ô"

# ==========================================
# 5. ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß (Admin/Player)
# ==========================================
command /setbounty <player> <number>:
    permission: op
    permission message: &c‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
    trigger:
        set {bounty::%uuid of arg-1%} to arg-2
        delete {bounty.victims::%uuid of arg-1%::*}
        add "‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£ (Wanted)" to {bounty.victims::%uuid of arg-1%::*}
        
        set {wanted.timer::%uuid of arg-1%} to now
        set tab list name of arg-1 to "&c[‚ò†] %arg-1%"
        
        broadcast ""
        broadcast "{@prefix}&c‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏à‡∏±‡∏ö: %arg-1% &7‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß‡πÇ‡∏î‡∏¢‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£!"
        broadcast "&7‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ô‡∏≥‡∏à‡∏±‡∏ö: &6%arg-2% {@currency_name}"
        broadcast ""
        play sound "entity.ender_dragon.growl" to all players

command /addbounty <player> <number>:
    trigger:
        if arg-1 is player:
            send "{@prefix}&c‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ó‡∏≥‡πÑ‡∏°!"
            stop
        if arg-2 <= 0:
            send "{@prefix}&c‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0"
            stop
        if player has arg-2 of {@currency_item}:
            remove arg-2 of {@currency_item} from player's inventory
            
            if {bounty::%uuid of arg-1%} is not set:
                set {bounty::%uuid of arg-1%} to arg-2
                delete {bounty.victims::%uuid of arg-1%::*}
            else:
                add arg-2 to {bounty::%uuid of arg-1%}
            
            add "%player% (‡∏ú‡∏π‡πâ‡∏à‡πâ‡∏≤‡∏á‡∏ß‡∏≤‡∏ô)" to {bounty.victims::%uuid of arg-1%::*}
            
            set {wanted.timer::%uuid of arg-1%} to now
            set tab list name of arg-1 to "&c[‚ò†] %arg-1%"
            
            broadcast "{@prefix}&e%player% &7‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏Ç‡∏±‡∏ô‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß &c%arg-1% &7‡πÄ‡∏û‡∏¥‡πà‡∏° &6%arg-2% {@currency_name}!"
            play sound "block.anvil.use" to all players
        else:
            send "{@prefix}&c‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ {@currency_name} ‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏à‡πà‡∏≤‡∏¢!"